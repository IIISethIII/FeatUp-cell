conda create -n featup python=3.10
conda activate featup
pip install hydra-core tensorboard ninja ftfy regex
conda install pytorch torchvision torchaudio pytorch-cuda=12.4 -c pytorch -c nvidia
conda install cudatoolkit-dev=11.7 -c conda-forge
conda install -c conda-forge cuda-nvcc=12.4.131
conda install pytorch torchvision torchaudio pytorch-cuda=12.1 -c pytorch -c nvidia
pip install -e .

# nessesary but already installed globally
# conda install gcc_linux-64 gxx_linux-64
# alias gcc='/home/icb/paul.volk/miniconda3/envs/featup_helmholtz_latest_new/bin/x86_64-conda-linux-gnu-cc'
# alias g++='/home/icb/paul.volk/miniconda3/envs/featup_helmholtz_latest_new/bin/x86_64-conda-linux-gnu-c++'
#
# or
#
# echo "alias gcc='/home/icb/paul.volk/miniconda3/envs/featup_helmholtz_latest_new/bin/x86_64-conda-linux-gnu-cc'" >> ~/.bashrc
# echo "alias g++='/home/icb/paul.volk/miniconda3/envs/featup_helmholtz_latest_new/bin/x86_64-conda-linux-gnu-c++'" >> ~/.bashrc
# source ~/.bashrc

# testing
# python -c "import torch; print(torch.__version__); print(torch.cuda.is_available()); print(torch.distributed.is_nccl_available())"
# conda install pytorch torchvision torchaudio pytorch-cuda=11.6 -c pytorch -c nvidia
# nvcc --version
# nvidia-smi